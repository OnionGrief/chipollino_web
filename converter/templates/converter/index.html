{% extends 'base/base.html' %}

{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/automata_list.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock %}

{% block content %}
<div id="loading-spinner"></div>

{% include 'converter/input.html' %}

<details open>
    <summary>Automata list</summary>
    {% include 'converter/automata_list.html' %}
</details>

{% comment %} <h1>Страница приложения generator</h1>
<a href="{% url 'converter:generator' %}">Генератор</a> {% endcomment %}

<script>
    document.getElementById('chipollino-form').addEventListener('submit', (event) => {
        const loader = document.getElementById('loading-spinner');
        loader.style.display = 'block'; // Показать анимацию загрузки
    });

    const generatorSelector = document.getElementById('generator-selector');
    generatorSelector.addEventListener('change', (event) => {
        const selectedValue = event.target.value;
        fetch('/generator/' + selectedValue)
            .then(response => response.text())
            .then(data => {
                document.getElementById('generator_result').innerHTML = data;
            });
    });

    const testGenerator = document.getElementById('randomtest');
    testGenerator.addEventListener('click', (event) => {
        fetch('/generator/' + 'Test')
            .then(response => response.text())
            .then(data => {
                document.getElementById('input-txt').innerHTML = data;
            });
    });
</script>

{% endblock %}
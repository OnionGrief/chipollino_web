{% extends 'base/base.html' %}

{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/automata_list.css' %}">
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock %}

{% block content %}

{% include 'converter/input.html' %}

<details open>
    <summary>Automata list</summary>
    {% include 'converter/automata_list.html' %}
</details>

{% comment %} <h1>Страница приложения generator</h1>
<a href="{% url 'converter:generator' %}">Генератор</a> {% endcomment %}

<script>
    // function run_click() {
    //     var text = document.getElementById('input-txt').value;
    //     fetch('/runinterpreter/', {
    //             method: 'POST',
    //             headers: {
    //                 'Content-Type': 'text/plain'
    //             },
    //             body: text
    //         })
    //         .then(response => response.text())
    //         .then(data => {
    //             document.getElementById('result').innerHTML = data;
    //         });
    // }

    const generatorSelector = document.getElementById('generator-selector');
    generatorSelector.addEventListener('change', (event) => {
        print('aaaa')
        const selectedValue = event.target.value;
        fetch('/generator/', {
                method: 'GET',
                headers: {
                    'Content-Type': 'text/plain'
                },
                body: selectedValue
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('generator_result').innerHTML = data;
            });
    });
</script>

{% endblock %}